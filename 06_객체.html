<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체</title>
    <style>
        .area{
            background-color: lightblue;
            border: 1px solid black;
        }

        .small{height: 250px;}
        .big{height: 400px;}
    </style>
</head>
<body>
    <h1>객체</h1>

    <h3>*객체 선언및 사용</h3>
    <p>
        객체는 중괄호{}를 사용해서 생성하고, <br>
        중괄호 안에 이 객체에서 필요한 속성들을 정의함 <br>
        속성명 : 속성값(key : value)의 형태로 정의한다 <br>
        속성값으로는 모든 자료형의 값을 담을 수 있다.
        
    </p>

    <pre>
        변수 = {
            속성명 : 속성값,
            속성명 : 속성값,
            속성명 : 속성값,
            ...
        }
    </pre>

    <button onclick="test1();">실행</button>
    <div id="area1" class="area big"></div>

    <script>
        function test1(){
            const arr =  ["Dry Mango", 4000, "pickle", ["mango", "sugar"]];
            //자바스크립트의 배열 == 자바의 컬렉션(ArrayList)와 유사

            const product = {
                pName : "Dry Mango",
                price : 4000,
                kind : "pickle",
                ingredient : ["mango", "sugar"]
            };
            //자바스크립트에서의 객체 == 자바에서의 컬렉션(HashMap)과 유사

            console.log(typeof product);
            const area1 = document.getElementById("area1");
            area1.innerHTML += ("product :" + product + "<br>");

            
            //객체의 속성에 접근하는 방법
            //방법1. 대괄호를 이용하는 방법 : 객체명["속성명"]
            
            area1.innerHTML += `<b>객체명['속성명(key)']으로 접근하기</b><br>`;
            area1.innerHTML += `pName : ${product['pName']}<br>`;
            area1.innerHTML += `price : ${product['price']}<br>`;
            area1.innerHTML += `ingredient : ${product['ingredient'][0]}<br><br>`;

            //방법2. .을 이용해서 접근하는 방법 : 객체명.속성명(key)

            area1.innerHTML += `<b>객체명.속성명(key)으로 접근하기</b><br>`;
            area1.innerHTML += `pName : ${product.pName}<br>`;
            area1.innerHTML += `price : ${product.price}<br>`;
            area1.innerHTML += `ingredient : ${product.ingredient[0]}<br><br>`;
        }

    </script>

    <h3>*객체의 메서드 속성</h3>
    <p>객체의 속성 중 함수자료형인  속성을 메서드라고 부름</p>

    <button onclick="test4();">실행확인</button>
    <div id="area4" class="area small"></div>

    <script>
        function test4(){
            const area4 = document.getElementById("area4");

            const name = "차은우";

            const dog = {
                name: "복실이",
                kind: "비글",
                eat: function(food){
                    area4.innerHTML += `${this.kind}종류인 ${this.name}가 ${food}를 먹고있습니다.<br>`
                }

            };

            dog.eat("사과");
            
        }
    </script>

    <br>
    <hr>
    <br>

    <h3>* 객체 배열을 사용한 다량의 데이터 관리</h3>

    <button onclick="test5()">실행</button>
    <div id="area5" class="area small"></div>

    <script>
        function test5(){

            const studentList = [
                {name: "문동은", java: 100, oracle: 75, html: 40},
                {name: "박연진", java: 80, oracle: 30, html: 40},
                {name: "이사라", java: 90, oracle: 75, html: 50},
                {name: "전재준", java: 55, oracle: 85, html: 70}

            ]

            //getSum : 모든 점수의 합
            //getAvg : 모든 점수의 평균


            // for(let i = 0; i < studentList.length; i++){ // 0 1 2 3

            // }

            for(let i in studentList){ // 0 1 2 3
                studentList[i].getSum = function(){
                    return this.java + this.oracle + this.html;
                }

                studentList[i].getAvg = function(){
                    return this.getSum()/studentList.length;
                }

            }


            // area5의 content에 이름 : xxx , 총점 : xxx, 평균 : xxx
            const area5 = document.querySelector('#area5');
            for(let i in studentList){ // 0 1 2 3
                studentList[i].name;
                studentList[i].getSum();
                studentList[i].getAvg();

                area5.innerHTML += `이름 : ${studentList[i].name},
                                    총점 : ${studentList[i].getSum()},
                                    평균 : ${studentList[i].getAvg()}<br>`;

            }


        }
    </script>
</body>
</html>